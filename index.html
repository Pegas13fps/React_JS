<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>React JS</title>
    <link rel="stylesheet" href="css/style.css">

    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>

<body>
    <div id="timer"></div>
    <div id="root"></div>


    <script type="text/babel">

        // 1. - Timer 
        class Clock extends React.Component {
            render() {
                return (
                    <div>
                      <h1>React JS!</h1>
                      <h2>It is {this.props.date.toLocaleTimeString()}.</h2>
                    </div>
                );
            }
        }
        function tick() {
            ReactDOM.render(
                 <Clock date={new Date()} />, document.getElementById('timer')
            );
        }
        setInterval(tick, 1000);

        // 2. JSX разметка для HTML
        // class App extends React.Component{
        //     render() {
        //         const element = <h2> Hello world! </h2>;
        //         return <div>{element}</div>
        //     }
        // }
        // ReactDOM.render(<App />,
        // document.getElementById('root')
        // );
        
        // 3. Масив и список
        // class App extends React.Component{
        //     render() {
        //         const users = ['Alex', 'Andrey', 'Ivan'];
        //         const listItems = users.map(user => <li>{user}</li>);
        //         return <ul>{listItems}</ul>
        //     }
        // }
        // ReactDOM.render(<App />,
        // document.getElementById('root')
        // );

        // 4. props обьект, переменная, выражение, this.props - только для чтения.
        // class App extends React.Component{
        //     render() {
        //         return <Greet greeting="Hello" />;
        //     }
        // }
        // class Greet extends React.Component{
        //     render() {
        //         return <h3>{this.props.greeting} Wordl!</h3>
        //     }
        // }
        // ReactDOM.render(<App />,
        // document.getElementById('root')
        // );

        // 5. добавление функций
        class App extends React.Component{
                constructor() {
                    super();
                    this.state = {name: "Alexey"};
                }
                changeName() {
                    this.setState ({name: "Ivan"});
                }

                render() {
                    return (
                        <div>
                            <h3>Hello {this.state.name}</h3>
                            <button type="button" onClick = {this.changeName.bind (this)} >Push for change name!</button>
                        </div>
                    )
                }
        }
        ReactDOM.render(<App />,
        document.getElementById('root')
        );

        // 6. life cycle компонента
        // class App extends React.Component{
        //     constructor() {
        //         super ();
        //         this.state = {
        //             person: {name: "", city: ""}
        //             };
        //     }

        //     componentDidMount() {
        //         this.setState ({
        //             person: {name: "Alexey", city: "Kiev"}
        //         });
        //     }
        //     componentDidUpdate() {
        //             console.log("Компонент был обновлен", this.state);
        //     }

        //     render() {
        //         return (
        //             <div>
        //                 <p>City: {this.state.person.city}</p>
        //                 <p>Name: {this.state.person.name}</p>
        //             </div>
        //         );
        //     }
        // }
        // ReactDOM.render(<App />,
        // document.getElementById('root')
        // );
    </script>
    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      Read this section for a production-ready setup with JSX:
      http://reactjs.org/docs/add-react-to-a-website.html#add-jsx-to-a-project

      In a larger project, you can use an integrated toolchain that includes JSX instead:
      http://reactjs.org/docs/create-a-new-react-app.html

      You can also use React without JSX, in which case you can remove Babel:
      https://reactjs.org/docs/react-without-jsx.html
    -->
</body>

</html>